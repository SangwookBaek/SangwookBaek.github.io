---
title: "집 리눅스 서버에 외부에서 SSH 접속하기"
date: 2026-02-15 00:00:00 +0900
author: oogie
categories: [infra,linux]
tags: [ssh,port-forwarding,network]     # TAG names should always be lowercase]
use_math: false
---

## TL;DR

집 데스크탑(Ubuntu)에 SSH를 설치했는데, 같은 네트워크에서는 접속이 되지만 외부에서는 접속이 안 됐다. 원인은 공유기의 포트 포워딩 미설정이었고, SK브로드밴드 GNT2400 모뎀 겸 공유기에서 포트 포워딩을 설정해서 해결했다.

---

## 1. 상황: 같은 네트워크는 되는데 외부에서 안 된다

집 데스크탑에 Ubuntu를 설치하고 SSH 서버를 올렸다. 같은 와이파이에 연결된 맥북에서 내부 IP로 접속하면 문제없이 잘 된다.

```bash
ssh oogie@192.168.xxx.xxx  # 같은 네트워크 → 성공
```

그런데 핸드폰 핫스팟으로 네트워크를 바꿔서 접속하면 안 된다. 방화벽 문제인가 싶어 확인해봤지만:

```bash
sudo ufw status
# Status: inactive
```

방화벽은 비활성 상태. 방화벽이 막는 게 아니었다.

---

## 2. 원인: 공유기가 외부 요청을 막고 있다

외부에서 집 서버에 접속하려면, 요청이 **공유기(라우터)**를 거쳐야 한다. 공유기는 기본적으로 외부에서 들어오는 연결을 전부 차단한다. 내부 기기를 보호하기 위한 기본 설정이다.

외부에서 접속이 되려면 공유기한테 **"22번 포트(SSH)로 들어오는 요청은 내부의 데스크탑으로 보내줘"**라고 알려줘야 한다. 이게 **포트 포워딩**이다.

### 내부 IP vs 공인 IP

먼저 두 가지 IP를 확인했다.

```bash
ip addr
# inet 192.168.xxx.xxx/24  ← 내부(사설) IP

curl ifconfig.me
# 58.xxx.xxx.xxx  ← 공인 IP
```

두 IP가 다르다는 건, 중간에 공유기(NAT 장비)가 있다는 뜻이다.

- **192.168.xxx.xxx** → 집 안에서만 통하는 주소 (방 번호)
- **58.xxx.xxx.xxx** → 외부에서 우리 집을 찾을 수 있는 주소 (집 주소)

외부에서는 당연히 내부 IP를 알 수 없으니, 공인 IP로 접속해야 한다.

---

## 3. 모뎀 찾기: 생각보다 삽질

브라우저에서 게이트웨이 주소(보통 `192.168.x.1`)에 접속하니 **GNT2400** 로그인 페이지가 떴다. SK브로드밴드에서 설치해주는 모뎀 겸 공유기다.

### 왜 모뎀인가?

포트 포워딩은 와이파이 공유기가 아니라 **모뎀(GNT2400)**에서 설정해야 한다. 모뎀이 외부 인터넷과 집 안 네트워크 사이의 관문(라우터) 역할을 하기 때문이다. 와이파이 공유기(GW-ME6110 같은 장비)는 단순히 와이파이 신호를 뿌려주는 AP(Access Point)일 뿐이다.

SK브로드밴드 설치 구성은 보통 이렇다:

```
벽면(인터넷 인입) → GNT2400(모뎀+라우터) → GW-ME6110(와이파이 AP) + 셋톱박스 등
```

GNT2400 본체는 **현관 신발장 안쪽 멀티미디어 박스** 같은 곳에 숨어있는 경우가 많다.

### GNT2400 로그인 정보

GNT2400 관리 페이지 로그인은 **모뎀 뒷면 스티커에 있는 MAC 주소 뒷자리 6개 + `_admin`** 형식이었다. 와이파이 공유기(AP)의 MAC 주소가 아니라 모뎀의 MAC 주소여야 한다.

예를 들어 모뎀의 MAC 주소가 `AA:BB:CC:11:22:33`이라면:

```
username: admin
password: 112233_admin
```

---

## 4. 포트 포워딩 설정

GNT2400 관리 페이지에 로그인 후, **방화벽 → 포트포워딩** 메뉴에서 다음과 같이 설정했다.

| 항목 | 값 |
|------|-----|
| 서비스 포트 | 22 ~ 22 |
| 프로토콜 | TCP |
| 내부 IP주소 | 192.168.xxx.xxx |
| 내부포트 | 22 |
| 설명 | SSH |

적용 버튼을 누르면 끝.

---

## 5. 접속 테스트

### 집 안에서 (집 와이파이)

```bash
ssh oogie@192.168.xxx.xxx  # 내부 IP로 접속 → 성공
```

집 와이파이에서 공인 IP로 접속하면 안 될 수 있다. 많은 공유기가 **NAT 루프백**(내부에서 자기 공인 IP로 접속하는 것)을 지원하지 않기 때문이다. 이건 정상이다.

### 외부에서 (핫스팟, 카페 등)

```bash
ssh oogie@58.xxx.xxx.xxx  # 공인 IP로 접속 → 성공
```

만약 핫스팟이 IPv6로 연결되어 있으면 `Network is unreachable` 에러가 날 수 있다. 이 경우 IPv4를 강제로 지정하면 된다:

```bash
ssh -4 oogie@58.xxx.xxx.xxx  # IPv4 강제 → 성공
```

---

## 6. 주의사항

### 유동 IP 문제

가정용 인터넷의 공인 IP는 대부분 **유동 IP**다. 공유기가 재부팅되거나 시간이 지나면 IP가 바뀔 수 있다. 접속이 갑자기 안 되면 집에서 `curl ifconfig.me`로 현재 공인 IP를 다시 확인하자.

IP가 자주 바뀌는 게 불편하다면:

- **SK브로드밴드에 고정 IP 신청** (유료일 수 있음)
- **DDNS(Dynamic DNS) 설정** — IP가 바뀌어도 도메인 이름으로 항상 접속 가능

### 보안

22번 포트를 외부에 열어두면 전 세계에서 SSH 접속 시도가 들어올 수 있다. 최소한 아래는 고려하자:

- SSH 포트를 22가 아닌 다른 번호로 변경
- 비밀번호 대신 SSH 키 인증만 허용
- `fail2ban` 설치로 무차별 대입 공격 차단

---

## 7. 정리: 외부 SSH 접속이 안 될 때 체크리스트

1. **SSH 서버가 실행 중인가?** → `systemctl status sshd`
2. **방화벽이 막고 있는가?** → `sudo ufw status`
3. **공유기 포트 포워딩이 설정되어 있는가?** → 공유기 관리 페이지 확인
4. **공인 IP로 접속하고 있는가?** → `curl ifconfig.me`로 확인
5. **CGNAT에 걸려있는가?** → 내부 IP와 공인 IP가 둘 다 사설 대역이면 통신사 문의
