---
title: 웹 애플리케이션의 구성요소에 대해서
date: 2025-04-03 22:52:00 +0900
author: oogie
categories: [Backend]
tags: [web]     # TAG names should always be lowercase]
---

## Intro
많은 서비스들이 웹기반으로 제공되는데요 이러한 웹 애플리케이션이 어떻게 구성되는지, 각 용어들이 어떤 의미인지 정리해봅니다.

## 웹 프레임워크(Web Framework)
웹 개발을 하다보면 웹 프레임워크라는 단어를 마주할 수 밖에 없음
FastAPI 또한 웹프레임워크의 일종임

그런데 FastAPI를 공부하다보면 같이 계속 묶여서 나오는 것이 Uvicorn임 그런데 이건 웹 애플리 케이션 서버임

그러면 웹 서버는 뭐고 웹 프레임워크는 뭐고 둘은 어떤 관계일까?

## 웹 서버 (Web Server)

`설명` 

클라이언트가 요청한 http 요청을 받아들이고 이것에 대한 응답을 반환하는 소프트웨어

`기능`

- http 요청 처리 : http 형식으로 요청된 내용을 처리해줌
- 정적 파일 반환 : 이미지, html, json 형식등의 정적 파일을 응답으로 반환해줌
- 리벅스 프록시 : **다른 애플리케이션(FastAPI 등)**으로 전달해주는 역할

`예시`

Nginx, Apache , …

## 웹 애플리케이션 서버(WAS)

`설명`

웹 서버와 웹 프레임워크의 중간 징검다리 역할을 하는 것 같음

즉 웹 서버에서 요청을 처리했을 때 프레임워크로 바로 보내는게 아님

> ***왜 중간 다리 역할이 필요하지? 
→ 서비스의 복잡성이 높아졌기 때문***
> 

웹 서버는 정적 리소스(이미지, html 등)를 제공하는데에 최적화 되어있음

그런데 동적 처리(사용자 인증, db 조회, 비즈니스 로직 처리 등)를 필요로하는데 이는 서버에서 직접적으로 수행하기 어려움. 그리고 애플리케이션을 실행하는 환경이 따로 필요함.

> ***근데 그러면 바로 프레임워크로 보내면 안되나?
→ 웹 프레임워크의 부하를 줄이고 유연함을 높이기 위함***
> 

프레임워크에서 모든 요청을 직접 처리하는 구조를 만들어야하는데 이게 어렵기도 하고 불필요한 구조 같음. 가령 프레임워크에서는 애플리케이션 기능 자체를 집중 시켜놓고 이것에 대한 로드 밸런시이나 병렬화 기능을 별도의 단계에서 처리해주는게 더 효율적임 → WAS가 필요함

`기능`

- 멀티 스레드 및 멀티프로세스 지원 : 여러개의 워커를 띄워서 동시 처리를 지원해줌
- 보안 : https 요청 처리를 해주거나 인증, 세션 관리 등 보안 관련 기능을 처리함 데이터 암호화도 여기서 수행가능함
- 로드 밸런싱 : 인스턴스에 요청을 분산할 때 이를 균등하게 관리해주는 역할을 함, 워커를 여러개 띄었을 때 각 워커에 균등하게 분포되도록 해주는 역할

`예시`

Gunicorn, Uvicorn, Tomcat, WildFly , …

### CGI, WSGI, ASGI

개념적으로 WAS를 검토한 뒤, 추가적으로 gunicorn, uvicorn등을 공부하면서 위의 개념들을 추가로 정리할 필요성을 느꼈음. 셋은 모두 WAS의 인터페이스의 일종임

### CGI(Common Gateway Interface)

좀 찾아보니까 CGI는 오래된 개념이고 WAS에 대체된 개념으로 보임.

그리고 어떻게보면 WAS와 같은 역할을 하지만 초기 구현 형태로 볼 수 있음.

`작동 방식`

1. 동적 요청을 받음
2. CGI 스크립트를 처리하는 ***프로세스를 생성***
3. CGI 처리 결과를 서버로 다시 반환

`단점`

1. 성능 문제 : 프로세스 생성 방식이 일단 문제가 큰 것으로 보임 매번 새로 생성하는 식이로 오버헤드도 크고 트래픽을 많이 처리하기 어려움
2. 확장성 부족 : 그리고 매번 프로세스를 생성하고 처리하는 구조라 비동기 처리가 안됌(이벤트 루프가 없음)
3. 복잡성 : 유지보수도 어렵다고 함

→ 이것을 보완하기 위해서 나온 것이 위에서 소개한 현대적인 WAS임

현대적인 WAS는 ***스레드 기반***으로 비동기, 로드 밸런싱 등을 지원함.

### WSGI (Web Server Gateway Interface)

WSGI는 멀티 스레드 방식을 지원하지만 비동기 방식은 아님

이는 WSGI 자체가 요청 - 응답 모델을 따르기 때문임

`작동 방식`

1. 요청이 들어오면 요청을 worker에 할당
2. 요청 처리하고 반환전까지 요청 처리 X

`단점`

단점을 결과적으로 비동기로 작동이 된다는 것임

### ASGI

간단하게 생각하면 WSGI의 한계를 극복해서 이벤트 루프를 지원하고 결과적으로 비동기 I/O를 가능하게 하는 인터페이스임

그래서 여기서부터 WebSocket, HTTP/2 프로토콜 또한 지원 가능함 

## 다시 돌아와서 웹 프레임 워크(백엔드 기준)

`설명`

웹 애플리케이션 개발을 용이하게 만들어주는 역할을 함

http 요청에 대해서 비즈니스 로직(or 서비스로직)을 구현하거나 데이터 베이스 상호작용 등을 처리해주는 기능과 구조를 제공하는 역할을 함.

`기능`

- 라우팅 : URL 요청 경로 맞춰서 로직 처리해줌
- 비즈니스 로직 처리 : 데이터 받고 데이터베이스랑 상호작용해서 로직을 수행하며 응답 생성
- 템플릿 렌더링 : 동적 html 페이지 생성하는 역할을 해줌
- API 제공 : RESTful or GraphQL API를 개발할 수 있는 역할을 해줌

`예시`

FastAPI, Django, Flask , …